# 개발 현황 및 진행 장애 보고서

## 보고일: 2025년 12월 21일

## 1. 현재까지 진행된 주요 작업 내용

FastAPI 백엔드 애플리케이션의 안정화 및 기능 확장을 위해 다음과 같은 작업들을 성공적으로 완료했습니다:

*   **FastAPI 'local_kw' 인증 오류 조사 및 해결:**
    *   초기 개발 과정에서 발생했던 FastAPI 의존성 주입 관련 `local_kw` 오류를 해결했습니다.
    *   원인 분석 결과, 동적으로 생성되는 `SECRET_KEY`로 인한 해싱 불일치 문제와 테스트 환경 설정의 미비점이 파악되었습니다.
    *   `conftest.py`에서 `SECRET_KEY`를 고정하고 `pytest-asyncio` 설정을 추가하여 문제를 해결했습니다.
*   **OAuth2.0 / JWT 인증 시스템 재구현 및 통합:**
    *   이전에 롤백되었던 OAuth2.0 / JWT 기반 인증 시스템을 재구현하고 애플리케이션 전반에 통합했습니다.
    *   JWT의 `sub` 클레임에 사용자 ID(`user.id`)를 사용하여 보안을 강화하고, `get_current_user` 및 `get_current_user_ws` 함수가 이를 기반으로 사용자를 조회하도록 수정했습니다.
*   **AI 기반 맞춤형 학습 추천 기능 구현:**
    *   사용자의 성적 데이터를 기반으로 학습 과목을 추천하는 새로운 기능을 구현했습니다.
    *   `RecommendationService`와 `/users/me/recommendations` 엔드포인트를 추가하여 개인화된 학습 추천을 제공합니다.
*   **실시간 WebSocket 알림 기능 구현:**
    *   WebSocket을 활용한 실시간 알림 시스템을 구축했습니다.
    *   `/ws/notifications` 엔드포인트를 통해 WebSocket 연결을 관리하고, 새로운 알림이 생성될 때마다 사용자에게 실시간으로 푸시합니다.
*   **사용자 필드 (email, username) 검색 가능 해싱 구현:**
    *   `email` 및 `username`과 같은 민감한 사용자 식별자 필드에 대해 검색 가능한 해싱을 적용했습니다.
    *   애플리케이션의 `SECRET_KEY`를 이용한 결정론적 해싱 방식을 사용하여 데이터베이스에 해시된 형태로 저장하고 조회 시에도 동일한 해시를 사용합니다.
*   **테스트 스위트 업데이트 및 통과:**
    *   위의 모든 변경 사항에 맞춰 기존 통합 테스트를 수정하고, 새로운 기능에 대한 테스트를 추가했습니다.
    *   현재 모든 14개 통합 테스트가 성공적으로 통과하여 애플리케이션의 기능적 안정성을 검증했습니다.

## 2. 현재 작업 중인 내용 및 진행 장애 상황

*   **현재 작업 중인 내용:** 핵심 웹 애플리케이션 기능의 안정화가 완료되었으므로, 다음 단계인 **모바일 애플리케이션 개발 계획 및 착수**를 진행하고 있습니다.
*   **진행 장애:**
    *   모바일 애플리케이션은 백엔드 API를 사용하므로, **백엔드 애플리케이션의 빌드 및 배포 환경이 선행되어야 합니다.**
    *   사용자님의 요청에 따라 현재 리포지토리의 백엔드 애플리케이션을 Docker Compose를 사용하여 빌드 및 배포하려고 시도했습니다.
    *   하지만 제가 실행하는 환경에서 `docker` 명령 자체를 찾을 수 없다는 **`CommandNotFoundException` 오류**가 지속적으로 발생하여 빌드 및 배포 작업을 진행할 수 없습니다.

## 3. 진행 장애로 인한 제약 사항

*   저는 사용자님의 시스템 환경에 소프트웨어를 설치하거나, 시스템 PATH 환경 변수를 수정할 권한이 없습니다.
*   `docker` 명령이 정상적으로 인식되지 않는 한, Docker를 사용하는 빌드 및 배포 작업을 진행할 수 없습니다.

## 4. 향후 조치 (사용자 요청 사항)

*   이 문제가 해결되어 제 환경에서 `docker` 명령이 정상적으로 실행될 수 있도록 **사용자님께서 Docker 환경을 점검하고 설정해 주시기를 요청드립니다.**

이 보고서는 현재까지의 개발 진행 상황과 직면한 가장 중요한 장애물을 명확히 설명합니다.
